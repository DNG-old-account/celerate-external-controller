<template name="sitePage">
<body>
  {{> celerateNavbar}}
  <div class="container-fluid">
    <div class="row">
      <div class="main">
        {{> siteOverview}}
      </div>
    </div>
  </div>
</body>
</template>

<template name="siteOverview">
  <div class="details">
    {{#if selected_site}}
    <div id="site_details_modal" class="modal fade" tabindex="-1" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">Ã—</button>
            <h3>Site Details</h3>
          </div>
          <div class="modal-body">
            {{> siteDetails}}
          </div>
          <div class="modal-footer">
            <button class="btn" data-dismiss="modal">OK</button>
          </div>
        </div>
      </div>
    </div>
    {{/if}}
  </div>

  <br><br>
  <div class="site_table_header">
    <span class="glyphicon glyphicon-search"></span>
    <span class="badge">{{site_count}}</span>
    <input class="site_search_input" id="site_search_input" type="search" placeholder="Search sites" value="">
    <button type="button" class="new_site_button btn btn-warning" id="new_site_button">Add New Site</button>
  </div>
  <div class="table_responsive">
    <table class="table table-striped">
      <thead><tr><th class="edit_row_column"></th><th class="pictures_header"><span class="glyphicon-camera glyphicon" style="padding: 10px 18px 0px 0px; font-size: 18px; cursor:pointer;" title="Photos"></span></th><th class="name_header" style="cursor:pointer;">Name</th><th class="type_header" style="cursor:pointer;">Type</th><th class="location_header">Location</th></tr></thead>
      <tbody>
        {{#each sites}}
        {{> site}}
        {{/each}}
      </tbody>
    </table>
  </div>

</template>

<template name="site">
<tr class="site {{selected}}">
  <td><span class="glyphicon-pencil glyphicon edit-row" style="padding: 10px 18px 0px 0px; font-size: 18px;" title="Edit"></span></td>
  <td>
    {{#if pictures}}
      {{#if pictures.length}}
      <span class="glyphicon-camera glyphicon" style="padding: 10px 18px 0px 0px; font-size: 18px;" title="Photos"></span>
      {{/if}}
    {{/if}}
  </td>
  <td>{{name}}</td>
  <td>{{site_type_to_string type}}</td>
  <td>{{site_location_to_string this}}</td>
</tr>
</template>
